![CI](https://github.com/caponetto/vscode-quarkus-djl/workflows/CI/badge.svg)
![CodeQL](https://github.com/caponetto/vscode-quarkus-djl/workflows/CodeQL/badge.svg)
[![GitHub Stars](https://img.shields.io/github/stars/caponetto/vscode-quarkus-djl.svg)](https://github.com/caponetto/vscode-quarkus-djl/stargazers)
[![License](https://img.shields.io/github/license/caponetto/vscode-quarkus-djl.svg)](https://github.com/caponetto/vscode-quarkus-djl/blob/main/LICENSE)

# Image services on VS Code with Quarkus and DJL

<p align="center">
  <a href="documentation/classify.gif"><img src="documentation/classify.gif" width="350"></a>
  <a href="documentation/detect.gif"><img src="documentation/detect.gif" width="350"></a>
</p>

Putting together [VS Code extension](https://code.visualstudio.com/api), [Quarkus](https://quarkus.io/), and [Deep Java Library](https://djl.ai/) into a simple project.

Just for fun. :P

## Modules

1. `vscode-extension`: Activate the VS Code extension when an image is opened by initializing the Quarkus app (with support of the backend library from [Kogito Tooling](https://github.com/kiegroup/kogito-tooling)).

1. `app-server`: Quarkus application that exposes REST endpoints for image services, such as image classification and object detection.

**Note**: The Quarkus application is automatically started up and stopped when the VS Code extension is activated and deactivated, respectively. Also, the build process takes care of embedding the Quarkus application into the VS Code extension.

## Requirements

- [Maven](https://maven.apache.org/) 3.6.2 or later
- [Java](https://openjdk.java.net/install/) 11 or later
- [Node](https://nodejs.org/) LTS
- [Yarn](https://yarnpkg.com/)

## Running the example

- Open this example in VS Code 1.43+
- In the terminal, execute `yarn run init && yarn run build:fast`
- `F5` to start debugging

Open an image file (`*.png`, `*.jpg`, or `*.jpeg`) and click on the `Classify` or `Detect Objects` button.

VS Code will send a POST request to the embedded Quarkus app, which will perform the required operation on the image and report back the result.

## Generating the vsix file

Run `yarn run init && yarn run build:prod` if you want to generate the `vsix` file.

Once the build process is done, the `vsix` file will be at `packages/vscode-extension/dist`.

The `vsix` file is also generated by the GitHub workflow and uploaded as an artifact.
